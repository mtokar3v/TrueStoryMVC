@model TrueStoryMVC.Models.Post

<style>
    .bi-arrow-up-square:hover {
        fill: green;
    }

    .bi-arrow-down-square:hover {
        fill: red;
    }
</style>

<div class="col-md-2" post-id="@Model.Id">
    <div class="like-button" title="Мне нравится">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-up-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg" onclick="like(this, 1, @Model.Id, 0)" >
            <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
            <path fill-rule="evenodd" d="M4.646 8.354a.5.5 0 0 0 .708 0L8 5.707l2.646 2.647a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 0 .708z" />
            <path fill-rule="evenodd" d="M8 11.5a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-1 0v5a.5.5 0 0 0 .5.5z" />
        </svg>
    </div>
    <p id="post-rating-@Model.Id" class="rating">@Model.Rating</p>
    <div class="like-button" title="Мне не нравится">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-down-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg" onclick="like(this, 2, @Model.Id, 0)">
            <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
            <path fill-rule="evenodd" d="M4.646 7.646a.5.5 0 0 1 .708 0L8 10.293l2.646-2.647a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z" />
            <path fill-rule="evenodd" d="M8 4.5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5z" />
        </svg>
    </div>
</div>
<div class="col-sm-10 border mt-1 p-1" style="background-color: white" post-id="@Model.Id">
    <a asp-action="userpage" asp-controller="users" asp-route-username="@Model.Author" style="display: inline; padding: 5% 0 0 5%">@Model.Author</a>
    <p-time post-time=@Model.PostTime class="text-secondary ml-1" style="display: inline" />
    <h2 class="text-secondary" style="padding-left: 5%"><a asp-action="post" asp-controller="home" asp-route-id="@Model.Id">@Model.Header</a></h2>
    @foreach (Text t in Model.Texts)
    {
        <p class=" text-justify w-100" style="padding: 3% 3% 0 3%">@t.TextData</p>
    }

    @{
        if (Model.PostImages.Count != 0)
        {
            foreach (ImageInfo img in Model.PostImages)
            {
                <img class="w-100 mx-auto img-fluid pt-1" src="data:image/jpeg ;base64,@(Convert.ToBase64String(img.Data))" />
            }
        }
    }

    @if (!String.IsNullOrEmpty(Model.Tags))
    {
        string[] tags = Model.Tags.Split(new char[] { ' ', ',', ';' });
        foreach (string t in tags)
        {
            <a asp-controller="home" asp-action="tag" asp-route-sometags="@t">@t</a>
        }
    }
   
    <div>
        <a asp-controller="Home" asp-action="Delete" asp-route-id="@Model.Id"> Удалить</a>
    </div>
</div>
