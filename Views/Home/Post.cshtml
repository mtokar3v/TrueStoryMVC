@model TrueStoryMVC.Models.Post

<div class="col-md-9">
    <div class="row">
        @{await Html.RenderPartialAsync("_OnePost", Model);}


    </div>
    <div class="row">
        <div class="col-md-2"></div>
        <form id="formElem-@Model.Id" onsubmit="postArticle(@Model.Id)">
            <input type="hidden" name="PostId" value="@Model.Id" />
            <input type="text" name="Text" />
            <input type="submit" value="Отправить">
        </form>
    </div>

    <div class="row">
        <div class="col-md-2"></div>
        <div id="post-comment-block">
            @if (Model.comments.Count != 0)
            {
                foreach (var com in Model.comments)
                {
                    <div class="someComment border rounded mt-1 p-1" style="line-height: 10px" post-id="@Model.Id" comment-id="@com.Id">
                        <span id="comment-rating-@com.Id" class="rating">@com.Rating</span>

                        <span class="like-button" title="Мне нравится">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-up-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg" onclick="like(this, 1, @com.Id, 1)">
                                <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
                                <path fill-rule="evenodd" d="M4.646 8.354a.5.5 0 0 0 .708 0L8 5.707l2.646 2.647a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 0 .708z" />
                                <path fill-rule="evenodd" d="M8 11.5a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-1 0v5a.5.5 0 0 0 .5.5z" />
                            </svg>
                        </span>
                        <span class="like-button" title="Мне не нравится">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-down-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg" onclick="like(this, 2, @com.Id, 1)">
                                <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
                                <path fill-rule="evenodd" d="M4.646 7.646a.5.5 0 0 1 .708 0L8 10.293l2.646-2.647a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z" />
                                <path fill-rule="evenodd" d="M8 4.5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5z" />
                            </svg>
                        </span>
                        <span class="text-secondary"><a asp-action="userpage" asp-controller="users" asp-route-username="@com.Author">@com.Author</a></span>
                        <p-time post-time=@com.PostTime class="text-secondary ml-1" />
                        <pre style="overflow: hidden;" class="mt-3">@com.Text</pre>
                    </div>
                }
            }
        </div>
    </div>

</div>


<script src="~/js/PostStaff.js"></script>
<script>
    window.onload = () => { ColorPostLike(document); ColorCommentLike();}
</script>